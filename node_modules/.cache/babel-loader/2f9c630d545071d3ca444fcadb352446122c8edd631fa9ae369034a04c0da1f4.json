{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{Container,Typography,Grid,CircularProgress,Button,Chip,Card,CardMedia,CardContent}from\"@mui/material\";import{getMovieDetails}from\"../api/tmdb\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MovieDetails=()=>{var _movie$credits,_movie$credits$cast;const{id}=useParams();const[movie,setMovie]=useState(null);const[trailerUrl,setTrailerUrl]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchDetails=async()=>{setLoading(true);try{var _data$videos,_data$videos$results;const res=await getMovieDetails(id);const data=res.data;setMovie(data);// Extract trailer\nconst trailer=(_data$videos=data.videos)===null||_data$videos===void 0?void 0:(_data$videos$results=_data$videos.results)===null||_data$videos$results===void 0?void 0:_data$videos$results.find(v=>v.type===\"Trailer\"&&v.site===\"YouTube\");if(trailer){setTrailerUrl(`https://www.youtube.com/watch?v=${trailer.key}`);}}catch(err){console.error(\"Failed to fetch movie details\",err);}setLoading(false);};fetchDetails();},[id]);if(loading||!movie)return/*#__PURE__*/_jsx(CircularProgress,{sx:{mt:5}});return/*#__PURE__*/_jsxs(Container,{sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:movie.title}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsx(\"img\",{src:`https://image.tmdb.org/t/p/w500${movie.poster_path}`,alt:movie.title,style:{width:\"100%\",borderRadius:10}})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:8,children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",mb:2,children:movie.overview}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Genres:\"}),movie.genres.map(genre=>/*#__PURE__*/_jsx(Chip,{label:genre.name,sx:{mr:1,mb:1}},genre.id)),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",mt:2,children:[\"Release Date: \",movie.release_date]}),/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",children:[\"Rating: \",movie.vote_average]}),trailerUrl&&/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",sx:{mt:2},href:trailerUrl,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Watch Trailer\"})]})]}),((_movie$credits=movie.credits)===null||_movie$credits===void 0?void 0:(_movie$credits$cast=_movie$credits.cast)===null||_movie$credits$cast===void 0?void 0:_movie$credits$cast.length)>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",mt:5,mb:2,children:\"Top Cast\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:movie.credits.cast.slice(0,6).map(actor=>/*#__PURE__*/_jsx(Grid,{item:true,xs:6,sm:4,md:2,children:/*#__PURE__*/_jsxs(Card,{sx:{borderRadius:2},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"220\",image:actor.profile_path?`https://image.tmdb.org/t/p/w200${actor.profile_path}`:\"https://via.placeholder.com/200x300?text=No+Image\",alt:actor.name}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",noWrap:true,children:actor.name})})]})},actor.id))})]})]});};export default MovieDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","Container","Typography","Grid","CircularProgress","Button","Chip","Card","CardMedia","CardContent","getMovieDetails","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MovieDetails","_movie$credits","_movie$credits$cast","id","movie","setMovie","trailerUrl","setTrailerUrl","loading","setLoading","fetchDetails","_data$videos","_data$videos$results","res","data","trailer","videos","results","find","v","type","site","key","err","console","error","sx","mt","children","variant","gutterBottom","title","container","spacing","item","xs","md","src","poster_path","alt","style","width","borderRadius","mb","overview","genres","map","genre","label","name","mr","release_date","vote_average","color","href","target","rel","credits","cast","length","slice","actor","sm","component","height","image","profile_path","noWrap"],"sources":["D:/loonslab/movie-explorer/src/pages/MovieDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Grid,\r\n  CircularProgress,\r\n  Button,\r\n  Chip,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n} from \"@mui/material\";\r\nimport { getMovieDetails } from \"../api/tmdb\";\r\n\r\nconst MovieDetails = () => {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [trailerUrl, setTrailerUrl] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchDetails = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const res = await getMovieDetails(id);\r\n        const data = res.data;\r\n        setMovie(data);\r\n\r\n        // Extract trailer\r\n        const trailer = data.videos?.results?.find(\r\n          (v) => v.type === \"Trailer\" && v.site === \"YouTube\"\r\n        );\r\n        if (trailer) {\r\n          setTrailerUrl(`https://www.youtube.com/watch?v=${trailer.key}`);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch movie details\", err);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchDetails();\r\n  }, [id]);\r\n\r\n  if (loading || !movie) return <CircularProgress sx={{ mt: 5 }} />;\r\n\r\n  return (\r\n    <Container sx={{ mt: 4 }}>\r\n      <Typography variant=\"h4\" gutterBottom>\r\n        {movie.title}\r\n      </Typography>\r\n      <Grid container spacing={3}>\r\n        <Grid item xs={12} md={4}>\r\n          <img\r\n            src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\r\n            alt={movie.title}\r\n            style={{ width: \"100%\", borderRadius: 10 }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12} md={8}>\r\n          <Typography variant=\"body1\" mb={2}>\r\n            {movie.overview}\r\n          </Typography>\r\n\r\n          <Typography variant=\"subtitle1\" gutterBottom>\r\n            Genres:\r\n          </Typography>\r\n          {movie.genres.map((genre) => (\r\n            <Chip key={genre.id} label={genre.name} sx={{ mr: 1, mb: 1 }} />\r\n          ))}\r\n\r\n          <Typography variant=\"subtitle1\" mt={2}>\r\n            Release Date: {movie.release_date}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\">\r\n            Rating: {movie.vote_average}\r\n          </Typography>\r\n\r\n          {trailerUrl && (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              sx={{ mt: 2 }}\r\n              href={trailerUrl}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              Watch Trailer\r\n            </Button>\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n\r\n      {movie.credits?.cast?.length > 0 && (\r\n        <>\r\n          <Typography variant=\"h5\" mt={5} mb={2}>\r\n            Top Cast\r\n          </Typography>\r\n          <Grid container spacing={2}>\r\n            {movie.credits.cast.slice(0, 6).map((actor) => (\r\n              <Grid item xs={6} sm={4} md={2} key={actor.id}>\r\n                <Card sx={{ borderRadius: 2 }}>\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"220\"\r\n                    image={\r\n                      actor.profile_path\r\n                        ? `https://image.tmdb.org/t/p/w200${actor.profile_path}`\r\n                        : \"https://via.placeholder.com/200x300?text=No+Image\"\r\n                    }\r\n                    alt={actor.name}\r\n                  />\r\n                  <CardContent>\r\n                    <Typography variant=\"body2\" noWrap>\r\n                      {actor.name}\r\n                    </Typography>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}