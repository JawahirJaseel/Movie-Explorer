{"ast":null,"code":"var _jsxFileName = \"D:\\\\loonslab\\\\movie-explorer\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Grid, Button, CircularProgress, Box, Typography } from \"@mui/material\";\nimport MovieCard from \"../components/MovieCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = process.env.REACT_APP_TMDB_API_KEY;\nconst Home = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1); // current page\n  const [totalPages, setTotalPages] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const fetchMovies = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`https://api.themoviedb.org/3/movie/popular`, {\n        params: {\n          api_key: API_KEY,\n          language: \"en-US\",\n          page\n        }\n      });\n      setMovies(prev => [...prev, ...res.data.results]);\n      setTotalPages(res.data.total_pages);\n    } catch (err) {\n      console.error(\"Error fetching movies:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchMovies();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n  const handleLoadMore = () => {\n    if (page < totalPages) setPage(prev => prev + 1);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 2,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      mb: 2,\n      textAlign: \"center\",\n      children: \"Popular Movies\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      justifyContent: \"center\",\n      children: movies.map(movie => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(MovieCard, {\n          movie: movie\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)\n      }, movie.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      mt: 4,\n      textAlign: \"center\",\n      children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this) : page < totalPages && /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        onClick: handleLoadMore,\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"Cqq0hm2mrg0dS5SCaVaV7nUSrY0=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","axios","Grid","Button","CircularProgress","Box","Typography","MovieCard","jsxDEV","_jsxDEV","API_KEY","process","env","REACT_APP_TMDB_API_KEY","Home","_s","movies","setMovies","page","setPage","totalPages","setTotalPages","loading","setLoading","fetchMovies","res","get","params","api_key","language","prev","data","results","total_pages","err","console","error","handleLoadMore","p","children","variant","mb","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","container","spacing","justifyContent","map","movie","item","id","mt","onClick","_c","$RefreshReg$"],"sources":["D:/loonslab/movie-explorer/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Grid, Button, CircularProgress, Box, Typography } from \"@mui/material\";\r\nimport MovieCard from \"../components/MovieCard\";\r\n\r\nconst API_KEY = process.env.REACT_APP_TMDB_API_KEY;\r\n\r\nconst Home = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [page, setPage] = useState(1); // current page\r\n  const [totalPages, setTotalPages] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchMovies = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(\r\n        `https://api.themoviedb.org/3/movie/popular`,\r\n        {\r\n          params: {\r\n            api_key: API_KEY,\r\n            language: \"en-US\",\r\n            page,\r\n          },\r\n        }\r\n      );\r\n\r\n      setMovies((prev) => [...prev, ...res.data.results]);\r\n      setTotalPages(res.data.total_pages);\r\n    } catch (err) {\r\n      console.error(\"Error fetching movies:\", err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchMovies();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n\r\n  const handleLoadMore = () => {\r\n    if (page < totalPages) setPage((prev) => prev + 1);\r\n  };\r\n\r\n  return (\r\n    <Box p={2}>\r\n      <Typography variant=\"h4\" mb={2} textAlign=\"center\">\r\n        Popular Movies\r\n      </Typography>\r\n\r\n      <Grid container spacing={2} justifyContent=\"center\">\r\n        {movies.map((movie) => (\r\n          <Grid item key={movie.id}>\r\n            <MovieCard movie={movie} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n\r\n      <Box mt={4} textAlign=\"center\">\r\n        {loading ? (\r\n          <CircularProgress />\r\n        ) : (\r\n          page < totalPages && (\r\n            <Button variant=\"contained\" onClick={handleLoadMore}>\r\n              Load More\r\n            </Button>\r\n          )\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}